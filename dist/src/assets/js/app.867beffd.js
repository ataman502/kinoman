(function(e){function t(t){for(var r,a,c=t[0],o=t[1],u=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);m&&m(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i={app:0},s=[];function c(e){return o.p+"src/assets/js/"+({}[e]||e)+"."+{"chunk-0f08bf4c":"d14ae28f","chunk-20a7c96e":"a2df80ec","chunk-308beb96":"5f2f057d","chunk-57fd8b77":"a4ea43ea","chunk-60e86b90":"161b9964","chunk-a65fc798":"d6fbea5e","chunk-a7a7f056":"f76d941e","chunk-e125920a":"5a3f81b3"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={"chunk-0f08bf4c":1,"chunk-20a7c96e":1,"chunk-308beb96":1,"chunk-57fd8b77":1,"chunk-60e86b90":1,"chunk-a65fc798":1,"chunk-a7a7f056":1,"chunk-e125920a":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="src/assets/css/"+({}[e]||e)+"."+{"chunk-0f08bf4c":"62fea970","chunk-20a7c96e":"56c43735","chunk-308beb96":"0e433876","chunk-57fd8b77":"56c43735","chunk-60e86b90":"8efdb182","chunk-a65fc798":"0e433876","chunk-a7a7f056":"ec8c9ae2","chunk-e125920a":"37f4d6d6"}[e]+".css",i=o.p+r,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){u=f[c],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],m.parentNode.removeChild(m),n(s)},m.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(m)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}i[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var m=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0379":function(e,t,n){},"0501":function(e,t,n){"use strict";var r=n("eef0"),a=n.n(r);a.a},"05c8":function(e,t,n){},"16a5":function(e,t,n){e.exports=n.p+"src/assets/img/popcorn.84107fd8.svg"},1776:function(e,t,n){},"1f33":function(e,t,n){"use strict";var r=n("0379"),a=n.n(r);a.a},"21a6":function(e,t,n){"use strict";var r=n("e5d1"),a=n.n(r);a.a},"21bb":function(e,t,n){"use strict";var r=n("2dad"),a=n.n(r);a.a},"21dd":function(e,t,n){e.exports=n.p+"src/assets/img/logo.7728aaec.png"},"2dad":function(e,t,n){},"2fcd":function(e,t,n){"use strict";var r=n("dcf0"),a=n.n(r);a.a},"3ab2":function(e,t,n){e.exports=n.p+"src/assets/img/new.85888806.svg"},"42e1":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("div",{staticClass:"filmitem__link"},[n("router-link",{staticClass:"filmitem",style:{backgroundImage:"url("+e.itemInfo.posterUrl+")"},attrs:{tag:"a",to:"/film/"+e.itemInfo.filmId}},[n("div",{staticClass:"filmitem__content",on:{mousemove:e.closeMenu}},[n("div",{staticClass:"filmitem__text"},[n("div",{staticClass:"filmitem__title"},[n("h3",[e._v(e._s(e.itemInfo.nameRu))])]),n("ul",{staticClass:"filmitem__ul"},[n("li",[e._v(" "+e._s(e.itemInfo.releaseDate||e.itemInfo.year)+" ")]),e.itemInfo.countries?n("li",[e._v(" "+e._s(e.filterGenres)+" ")]):e._e(),e.itemInfo.genres?n("li",[e._v(" "+e._s(e.filterCountries)+" ")]):e._e(),e.itemInfo.duration?n("li",[e._v(" "+e._s(e.itemInfo.duration)+" минут ")]):e._e()])]),n("div",{staticClass:"filmitem__rating",class:e.rating},[n("h5",[e._v(" "+e._s(e.itemInfo.rating)+" ")])])])]),n("div",{staticClass:"filmitem__menu"},[n("button",{staticClass:"filmitem__menu-button",attrs:{tabindex:"-1"},on:{click:e.targetMenu}},[n("svg",{attrs:{viewBox:"0 0 515.555 515.555"}},[n("path",{attrs:{fill:"currentColor",d:"m303.347 18.875c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}}),n("path",{attrs:{fill:"currentColor",d:"m303.347 212.209c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}}),n("path",{attrs:{fill:"currentColor",d:"m303.347 405.541c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}})])]),n("transition",{attrs:{name:"slide-fade"}},[e.menu?n("MenuFilm",{attrs:{"menu-info":e.itemInfo},on:{closeMenu:e.closeMenu}}):e._e()],1)],1)],1)])},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"menu",staticClass:"menu"},[n("div",{staticClass:"menu__button"},[n("button",{staticClass:"btn",class:{like:e.filmLike},on:{click:function(t){return t.preventDefault(),e.like(t)}}},[n("span",[n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M376,30c-27.783,0-53.255,8.804-75.707,26.168c-21.525,16.647-35.856,37.85-44.293,53.268\n              c-8.437-15.419-22.768-36.621-44.293-53.268C189.255,38.804,163.783,30,136,30C58.468,30,0,93.417,0,177.514\n              c0,90.854,72.943,153.015,183.369,247.118c18.752,15.981,40.007,34.095,62.099,53.414C248.38,480.596,252.12,482,256,482\n              s7.62-1.404,10.532-3.953c22.094-19.322,43.348-37.435,62.111-53.425C439.057,330.529,512,268.368,512,177.514\n              C512,93.417,453.532,30,376,30z"}})])]),e.filmLike?n("p",[e._v(" Не нравиться ")]):n("p",[e._v(" Нравиться ")])]),n("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.bookmark(t)}}},[n("span",[n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M327.68,0H96.256c-22.528,0-40.96,18.432-40.96,40.96v357.376c0,9.728,5.632,18.944,14.336,23.04\n            c9.216,4.096,19.456,3.072,27.136-3.072l0.512-0.512l114.688-96.768l114.688,96.768l0.512,0.512\n            c4.608,3.584,10.24,5.632,15.872,5.632c3.584,0,7.68-1.024,11.264-3.072c8.704-4.096,14.336-13.312,14.336-23.04V40.96\n            C368.64,18.432,350.208,0,327.68,0z"}})])]),e.filmBookmark?n("p",[e._v(" Удалить из закладок ")]):n("p",[e._v(" В закладки ")])])])])},s=[],c=(n("4de4"),n("7db0"),n("4160"),n("caad"),n("2532"),n("159b"),n("96cf"),n("1da1")),o={name:"Menu",props:{menuInfo:{type:Object,required:!0}},data:function(){return{filmsLike:[],filmsBookmarks:[],filters:null,counter:0}},computed:{filmLike:function(){if(this.filmsLike.length){var e=this.menuInfo.filmId;return this.filmsLike.includes(String(e)),this.filmsLike.includes(String(e))}return!1},filmBookmark:function(){if(this.filmsBookmarks.length){var e=this.menuInfo.filmId;return this.filmsBookmarks.includes(String(e))}return!1}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("fetchLikeFilm");case 3:return e.filmsLike=t.sent,t.next=6,e.$store.dispatch("fetchBookmarkFilm");case 6:e.filmsBookmarks=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{like:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUid");case 2:if(t.sent){t.next=7;break}e.$router.push("/login"),e.$toast.error("Вы не авторизованны"),t.next=20;break;case 7:if(n=e.menuInfo.filmId,r={title:e.menuInfo.nameRu,filmId:n},a={genres:e.menuInfo.genres,countries:e.menuInfo.countries,year:e.menuInfo.year,type:e.menuInfo.type},e.filmsLike.includes(String(n))){t.next=14;break}try{e.filters=e.$store.state.filters.filters,e.genresRecommendSet(a),e.countriesRecommendSet(a),"FILM"===a.type?e.yearRecommendSetFilm(a):e.yearRecommendSetTvShow("2010"),e.typeRecommendSet(a),e.addedInLikes(r),e.counter++}catch(s){}t.next=20;break;case 14:return t.next=16,e.$store.dispatch("notLike",r);case 16:i=t.sent,e.filmsLike=e.filmsLike.filter((function(e){return!i.filmId})),e.counter++,e.$toast.error('"'.concat(i.title,'" удалён из понравившегося'));case 20:case"end":return t.stop()}}),t)})))()},bookmark:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUid");case 2:if(t.sent){t.next=7;break}e.$router.push("/login"),e.$toast.error("Вы не авторизованны"),t.next=19;break;case 7:if(n=e.menuInfo.filmId,r={title:e.menuInfo.nameRu,filmId:n},e.filmsBookmarks.includes(String(n))){t.next=13;break}try{e.addedInBookmark(r),e.counter++}catch(i){}t.next=19;break;case 13:return t.next=15,e.$store.dispatch("notBookmarks",r);case 15:a=t.sent,e.filmsBookmarks=e.filmsBookmarks.filter((function(e){return!a.filmId})),e.counter++,e.$toast.error('"'.concat(a.title,'" удалён из закладок'));case 19:case"end":return t.stop()}}),t)})))()},genresRecommendSet:function(e){var t=this;e.genres.forEach((function(e){var n=e.genre,r=t.filters.genres.find((function(e){return e.genre===n}));t.$store.dispatch("addedRecommendGenres",r.id)}))},countriesRecommendSet:function(e){var t=this;e.countries.forEach((function(e){var n=e.country,r=t.filters.countries.find((function(e){return e.country===n}));t.$store.dispatch("addedRecommendCountries",r.id)}))},yearRecommendSetFilm:function(e){this.$store.dispatch("addedRecommendYear",e.year)},yearRecommendSetTvShow:function(e){this.$store.dispatch("addedRecommendYear",e)},typeRecommendSet:function(e){this.$store.dispatch("addedRecommendType",e.type)},addedInLikes:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("like",e);case 2:r=n.sent,t.filmsLike.push(String(r.filmId)),t.$toast.success('"'.concat(r.title,'" добавлен в понравившиеся'));case 5:case"end":return n.stop()}}),n)})))()},addedInBookmark:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("bookmarks",e);case 2:r=n.sent,t.filmsBookmarks.push(String(r.filmId)),t.$toast.success('"'.concat(r.title,'" добавлен в закладки'));case 5:case"end":return n.stop()}}),n)})))()}}},u=o,l=(n("f28f"),n("2877")),f=Object(l["a"])(u,i,s,!1,null,null,null),m=f.exports,d=n("6339"),h=n("68fc"),p={name:"FilmItemInfo",data:function(){return{menu:!1}},components:{MenuFilm:m},props:{itemInfo:{type:Object,required:!0}},computed:{rating:function(){return this.itemInfo.rating>=6.5?"green":this.itemInfo.rating>=4.1?"yellow":"red"},filterGenres:function(){var e=this.itemInfo.genres;return Object(h["a"])(e)},filterCountries:function(){var e=this.itemInfo.countries;return Object(d["a"])(e)}},created:function(){this.getFilmInfo()},mounted:function(){},methods:{getFilmInfo:function(){},targetMenu:function(){this.menu=!this.menu},closeMenu:function(){this.menu=!1}}},v=p,g=(n("a7b3"),Object(l["a"])(v,r,a,!1,null,null,null));t["a"]=g.exports},"4cbb":function(e,t,n){},"54c1":function(e,t,n){"use strict";var r=n("91cc"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",class:"app--"+e.theme.currentTheme,attrs:{id:"app"}},[n("transition",{attrs:{name:"fade"}},[n(e.layout,{tag:"component"},[n("router-view")],1)],1),n("MobileBar")],1)},i=[],s=n("5530"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("transition",{attrs:{name:"fade"}},[e.loading?n("Loader",{staticStyle:{"min-height":"100vh"}}):n("div",{staticClass:"row no-gutters justify-content-end"},[n("aside",{staticClass:"navbar__container col-lg-2 "},[n("Navbar")],1),n("div",{staticClass:"col-lg-10 no-padding"},[n("div",{staticClass:"row no-gutters"},[n("div",{staticClass:"header__container col-lg-10 no-padding"},[n("Header")],1)]),n("div",{staticClass:"row no-gutters"},[n("main",{staticClass:"row no-gutters w-100"},[n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1)])])])],1)],1)},o=[],u=(n("b64b"),n("96cf"),n("1da1")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{directives:[{name:"scroll",rawName:"v-scroll",value:e.handleScroll,expression:"handleScroll"}],staticClass:"header",class:{fixed:e.headerFixed,fade:e.fade}},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row justify-content-between"},[n("div",{staticClass:"col-8 d-flex"},[n("button",{staticClass:"header__back",on:{click:function(t){return t.preventDefault(),e.back(t)}}},[n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480\n              C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"}}),n("path",{attrs:{fill:"currentColor",d:"M292.64,116.8l-128,128c-6.204,6.241-6.204,16.319,0,22.56l128,128l22.56-22.72L198.56,256L315.2,139.36L292.64,116.8z"}})])]),n("h2",{staticClass:"header__title"},[e._v(" "+e._s(e.pageTitle)+" ")])]),n("nav",{staticClass:"col-lg col-3 nav"},[n("router-link",{staticClass:"nav__link",attrs:{tag:"a",to:"/profile","active-class":"active"}},[n("svg",{attrs:{viewBox:"-42 0 512 512.001"}},[n("path",{attrs:{fill:"currentcolor",d:"m210.351562 246.632812c33.882813 0 63.21875-12.152343 87.195313-36.128906 23.96875-23.972656 36.125-53.304687 36.125-87.191406 0-33.875-12.152344-63.210938-36.128906-87.191406-23.976563-23.96875-53.3125-36.121094-87.191407-36.121094-33.886718 0-63.21875 12.152344-87.191406 36.125s-36.128906 53.308594-36.128906 87.1875c0 33.886719 12.15625 63.222656 36.128906 87.195312 23.980469 23.96875 53.316406 36.125 87.191406 36.125zm-65.972656-189.292968c18.394532-18.394532 39.972656-27.335938 65.972656-27.335938 25.996094 0 47.578126 8.941406 65.976563 27.335938 18.394531 18.398437 27.339844 39.980468 27.339844 65.972656 0 26-8.945313 47.578125-27.339844 65.976562-18.398437 18.398438-39.980469 27.339844-65.976563 27.339844-25.992187 0-47.570312-8.945312-65.972656-27.339844-18.398437-18.394531-27.34375-39.976562-27.34375-65.976562 0-25.992188 8.945313-47.574219 27.34375-65.972656zm0 0"}}),n("path",{attrs:{fill:"currentcolor",d:"m426.128906 393.703125c-.691406-9.976563-2.089844-20.859375-4.148437-32.351563-2.078125-11.578124-4.753907-22.523437-7.957031-32.527343-3.3125-10.339844-7.808594-20.550781-13.375-30.335938-5.769532-10.15625-12.550782-19-20.160157-26.277343-7.957031-7.613282-17.699219-13.734376-28.964843-18.199219-11.226563-4.441407-23.667969-6.691407-36.976563-6.691407-5.226563 0-10.28125 2.144532-20.042969 8.5-6.007812 3.917969-13.035156 8.449219-20.878906 13.460938-6.707031 4.273438-15.792969 8.277344-27.015625 11.902344-10.949219 3.542968-22.066406 5.339844-33.042969 5.339844-10.96875 0-22.085937-1.796876-33.042968-5.339844-11.210938-3.621094-20.300782-7.625-26.996094-11.898438-7.769532-4.964844-14.800782-9.496094-20.898438-13.46875-9.753906-6.355468-14.808594-8.5-20.035156-8.5-13.3125 0-25.75 2.253906-36.972656 6.699219-11.257813 4.457031-21.003906 10.578125-28.96875 18.199219-7.609375 7.28125-14.390625 16.121094-20.15625 26.273437-5.558594 9.785157-10.058594 19.992188-13.371094 30.339844-3.199219 10.003906-5.875 20.945313-7.953125 32.523437-2.0625 11.476563-3.457031 22.363282-4.148437 32.363282-.679688 9.777344-1.023438 19.953125-1.023438 30.234375 0 26.726562 8.496094 48.363281 25.25 64.320312 16.546875 15.746094 38.4375 23.730469 65.066406 23.730469h246.53125c26.621094 0 48.511719-7.984375 65.0625-23.730469 16.757813-15.945312 25.253906-37.589843 25.253906-64.324219-.003906-10.316406-.351562-20.492187-1.035156-30.242187zm-44.90625 72.828125c-10.933594 10.40625-25.449218 15.464844-44.378906 15.464844h-246.527344c-18.933594 0-33.449218-5.058594-44.378906-15.460938-10.722656-10.207031-15.933594-24.140625-15.933594-42.585937 0-9.59375.316406-19.066407.949219-28.160157.617187-8.921874 1.878906-18.722656 3.75-29.136718 1.847656-10.285156 4.199219-19.9375 6.996094-28.675782 2.683593-8.378906 6.34375-16.675781 10.882812-24.667968 4.332031-7.617188 9.316407-14.152344 14.816407-19.417969 5.144531-4.925781 11.628906-8.957031 19.269531-11.980469 7.066406-2.796875 15.007812-4.328125 23.628906-4.558594 1.050781.558594 2.921875 1.625 5.953125 3.601563 6.167969 4.019531 13.277344 8.605469 21.136719 13.625 8.859375 5.648437 20.273437 10.75 33.910156 15.152344 13.941406 4.507812 28.160156 6.796875 42.273437 6.796875 14.113282 0 28.335938-2.289063 42.269532-6.792969 13.648437-4.410156 25.058594-9.507813 33.929687-15.164063 8.042969-5.140624 14.953125-9.59375 21.121094-13.617187 3.03125-1.972656 4.902344-3.042969 5.953125-3.601563 8.625.230469 16.566406 1.761719 23.636719 4.558594 7.636719 3.023438 14.121093 7.058594 19.265625 11.980469 5.5 5.261719 10.484375 11.796875 14.816406 19.421875 4.542969 7.988281 8.207031 16.289062 10.886719 24.660156 2.800781 8.75 5.15625 18.398438 7 28.675782 1.867187 10.433593 3.132812 20.238281 3.75 29.144531v.007812c.636719 9.058594.957031 18.527344.960937 28.148438-.003906 18.449219-5.214844 32.378906-15.9375 42.582031zm0 0"}})])]),n("router-link",{staticClass:"nav__link",attrs:{tag:"a",to:"/search","active-class":"active"}},[n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M181.341,0C81.352,0,0.008,81.344,0.008,181.333s81.344,181.333,181.333,181.333s181.333-81.344,181.333-181.333\n                  S281.331,0,181.341,0z M181.341,341.333c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160\n                  S269.576,341.333,181.341,341.333z"}}),n("path",{attrs:{fill:"currentColor",d:"M508.872,493.803L309.555,294.485c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l199.317,199.317\n                  c2.091,2.069,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.531-3.115C513.032,504.725,513.032,497.963,508.872,493.803z"}})])])],1)])])])},f=[],m=(n("b0c0"),{name:"Header",data:function(){return{headerFixed:!1,fade:!1,scrollPrev:0}},computed:{pageTitle:function(){return this.$route.meta.title},name:function(){return this.$store.getters.info.name}},mounted:function(){},methods:{handleScroll:function(){var e=window.scrollY;e>200&&e>this.scrollPrev?(this.fade=!0,this.headerFixed=!1):e<=10?(this.headerFixed=!1,this.fade=!1):(this.headerFixed=!0,this.fade=!1),this.scrollPrev=e},back:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}}}),d=m,h=(n("2fcd"),n("2877")),p=Object(h["a"])(d,l,f,!1,null,null,null),v=p.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar"},[r("router-link",{staticClass:"navbar__logo",attrs:{to:"/",tag:"h1"}},[r("img",{staticClass:"img",attrs:{src:n("21dd"),alt:""}})]),r("ul",{staticClass:"navbar__link"},e._l(e.links,(function(t){return r("router-link",{key:t.url,attrs:{tag:"li",to:t.url,"active-class":"active",exact:t.exact}},[r("img",{staticClass:"img",attrs:{src:t.icon,alt:""}}),r("span",[e._v(e._s(t.title))])])})),1),r("div",{staticClass:"navbar__playlists"},[r("h5",[e._v("КиноЛенты ")]),r("router-link",{staticClass:"navbar__playlists-item",attrs:{to:"/yourMovie",tag:"a"}},[r("div",{staticClass:"navbar__playlists-wrap"},[r("p",[e._v(" Ваше кино "),r("span",[r("svg",{attrs:{viewBox:"0 0 479.958 479.958"}},[r("path",{attrs:{fill:"currentColor",d:"M463.441,189.294c-0.061-0.214-0.133-0.425-0.216-0.632c0-0.088-0.048-0.192-0.088-0.28\n                c-0.372-0.722-0.852-1.383-1.424-1.96c-0.128-0.136-0.288-0.232-0.424-0.36c-0.553-0.491-1.169-0.905-1.832-1.232\n                c-0.24-0.112-0.464-0.224-0.712-0.312c-0.882-0.351-1.819-0.541-2.768-0.56H127.025l-2.104-2.624l103.216-32.408l1.256-0.392\n                l1.848-0.576l99.2-31.152l21.048-6.608l31.152-9.776l75.736-23.768c4.215-1.325,6.557-5.816,5.232-10.031c0,0,0-0.001,0-0.001\n                L444.441,5.558c-0.048-0.144-0.16-0.24-0.216-0.384c-0.264-0.704-0.628-1.367-1.08-1.968c-0.144-0.192-0.256-0.4-0.416-0.576\n                c-0.051-0.078-0.108-0.153-0.168-0.224c-0.561-0.577-1.209-1.063-1.92-1.44c-0.184-0.104-0.392-0.152-0.584-0.24\n                c-0.653-0.294-1.341-0.501-2.048-0.616c-0.272-0.04-0.52-0.072-0.8-0.088c-0.947-0.071-1.898,0.032-2.808,0.304L210.849,70.502\n                l-20.688,6.496l-35.52,11.152l-101.32,31.808H23.977c-4.418,0-8,3.582-8,8v328c0,13.255,10.745,24,24,24h400\n                c13.255,0,24-10.745,24-24v-264c0-0.152-0.08-0.28-0.088-0.432C463.847,190.764,463.696,190.012,463.441,189.294z\n                M439.977,199.958l-36,48h-44l36-48H439.977z M375.977,199.958l-36,48h-44l36-48H375.977z M311.977,199.958l-36,48h-44l36-48\n                H311.977z M247.977,199.958l-36,48h-44l36-48H247.977z M183.977,199.958l-36,48h-4v-40c0.001-1.817-0.617-3.581-1.752-5\n                l-2.32-2.896L183.977,199.958z M436.361,33.278l9.6,30.536l-22.912,7.184L436.361,33.278z M394.793,29.542l29.184-9.152\n                l-20,56.568l-26.632,8.36l-15.352,4.8l20-56.576L394.793,29.542z M326.057,51.126l36.816-11.568l-20,56.576l-41.976,13.176\n                l20-56.584L326.057,51.126z M301.841,58.726l-20,56.568l-41.968,13.176l20-56.568L301.841,58.726z M198.801,91.094l41.976-13.2\n                l-20,56.6l-41.976,13.176L198.801,91.094z M179.761,97.038l-20,56.568l-25.856,8.128l-16.12,5.056l20-56.576L179.761,97.038z\n                M118.625,116.23l-14.016,39.728l-22.576-28.24L118.625,116.23z M31.977,135.958h36.16l36.984,46.24l11.792,14.728l5.6,7.024\n                l0.968,1.208l4.448,5.552v37.248H31.977V135.958z M447.977,455.958c0,4.418-3.582,8-8,8h-400c-4.418,0-8-3.582-8-8v-192h416\n                V455.958z M447.977,247.958h-24l24-32V247.958z"}})])])])])]),r("router-link",{staticClass:"navbar__playlists-item",attrs:{to:"/yourBookmarks",tag:"a"}},[r("div",{staticClass:"navbar__playlists-wrap"},[r("p",[e._v(" Ваши закладки "),r("span",[r("svg",{attrs:{viewBox:"0 0 423.936 423.936"}},[r("path",{attrs:{fill:"currentColor",d:"M327.68,0H96.256c-22.528,0-40.96,18.432-40.96,40.96v357.376c0,9.728,5.632,18.944,14.336,23.04\n                c9.216,4.096,19.456,3.072,27.136-3.072l0.512-0.512l114.688-96.768l114.688,96.768l0.512,0.512\n                c4.608,3.584,10.24,5.632,15.872,5.632c3.584,0,7.68-1.024,11.264-3.072c8.704-4.096,14.336-13.312,14.336-23.04V40.96\n                C368.64,18.432,350.208,0,327.68,0z"}})])])])])])],1)],1)},b=[],k={name:"Navbar",data:function(){return{links:[{title:" Главная ",url:"/",icon:n("bfd0"),exact:!0},{title:" Новые релизы ",url:"/new-release",icon:n("3ab2")},{title:" Рекоммендации ",url:"/foryou",icon:n("c6c5")}]}}},w=k,_=(n("bb2e"),Object(h["a"])(w,g,b,!1,null,null,null)),x=_.exports;function y(e){return e[Math.floor(Math.random()*e.length)]}var R={name:"MainLayout",components:{Header:v,Navbar:x},data:function(){return{loading:!0}},computed:{error:function(){return this.$store.getters.error}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object.keys(e.$store.getters.info).length){t.next=3;break}return t.next=3,e.$store.dispatch("fetchInfo");case 3:return t.next=5,e.getIntroFilm();case 5:return t.next=7,e.getFilters();case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},methods:{getIntroFilm:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={rating:{from:"6",to:"10"},year:{from:"2018",to:"2020"},page:["1","2","3","4","5"]},t.prev=1,t.next=4,e.$store.dispatch("getReleasesArrIntro",n);case 4:return r=t.sent,t.next=7,y(r).filmId;case 7:return a=t.sent,t.next=10,e.$store.dispatch("getInfoFilm",a);case 10:if(i=t.sent,!i.images.backdrops.length){t.next=16;break}return t.next=14,e.$store.dispatch("setIntroFilm",i);case 14:t.next=18;break;case 16:return t.next=18,e.getIntroFilm();case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](1),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[1,20]])})))()},getFilters:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getFiltersJSON");case 2:return n=t.sent,t.next=5,e.$store.dispatch("setFilters",n);case 5:case"end":return t.stop()}}),t)})))()}},watch:{error:function(e){console.log(e)}}},I=R,C=(n("89d3"),Object(h["a"])(I,c,o,!1,null,null,null)),F=C.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"sign"},[e.loading?r("Loader",{staticStyle:{width:"100%"}}):r("div",{staticClass:"sign__row"},[r("div",{staticClass:"row justify-content-end align-items-center"},[r("div",{staticClass:"col-lg-6 sign__right"},[r("router-link",{staticClass:"sign__logo",attrs:{tag:"a",to:"/"}},[r("img",{staticClass:"img",attrs:{src:n("21dd"),alt:"",draggable:"false"}})]),r("div",{staticClass:"sign__text"},[r("p",[e._v("Минимум информации, максимум интереса!")])]),r("div",{staticClass:"sign__animation"},[r("div",{staticClass:"sign__film"},e._l(e.newRelease,(function(e){return r("FilmItemInfo",{key:e.filmId,staticClass:"sing__item col-6",attrs:{"item-info":e}})})),1)])],1),r("div",{staticClass:"col-lg-6 d-flex"},[r("div",{staticClass:"sign__dialog"},[r("router-view")],1)])])])],1)},O=[],$=n("42e1"),E=n("b444"),S={name:"EmptyLayout",data:function(){return{newRelease:[],loading:!0}},components:{FilmItemInfo:$["a"]},computed:{error:function(){return this.$store.getters.error}},watch:{error:function(e){this.$toast.error(E["a"][e.code]||"Что-то пошло не так"),console.log(e)}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNewReleaseFilm();case 2:e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},methods:{getNewReleaseFilm:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={rating:{from:"6",to:"10"},year:{from:"2010",to:"2020"},page:["1","2","3","4","5"]},t.prev=1,t.next=4,e.$store.dispatch("getReleasesArr",n);case 4:e.newRelease=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},L=S,A=(n("ea97"),Object(h["a"])(L,j,O,!1,null,null,null)),M=A.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"mobile"},[n("div",{staticClass:"mobile__wrap"},[n("div",{staticClass:"mobile__links row"},e._l(e.links,(function(e){return n("router-link",{key:e.url,staticClass:"col-2",attrs:{tag:"li",to:e.url,"active-class":"active",exact:e.exact}},[n("img",{staticClass:"img",attrs:{src:e.icon,alt:""}})])})),1)])])},B=[],z={name:"MobileBar",data:function(){return{links:[{title:" Главная ",url:"/",icon:n("bfd0"),exact:!0},{title:" Новые релизы ",url:"/new-release",icon:n("3ab2")},{title:" Рекоммендации ",url:"/foryou",icon:n("c6c5")},{title:" Моё кино ",url:"/yourMovie",icon:n("16a5")},{title:" Мои закладки ",url:"/yourBookmarks",icon:n("6d7e")}]}}},P=z,N=(n("d774"),Object(h["a"])(P,T,B,!1,null,null,null)),U=N.exports,Y=n("2f62"),G={name:"App",metaInfo:function(){return{title:this.$title(this.$route.meta.title)}},data:function(){return{}},components:{MainLayout:F,EmptyLayout:M,MobileBar:U},computed:Object(s["a"])(Object(s["a"])({},Object(Y["d"])(["theme"])),{},{layout:function(){return(this.$route.meta.layout||"main")+"-layout"}}),watch:{theme:function(e){console.log(e)}}},D=G,H=(n("5c0b"),Object(h["a"])(D,a,i,!1,null,null,null)),K=H.exports,X=(n("45fc"),n("d3b7"),n("8c4f")),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row no-gutters"},[n("Intro"),n("section",{staticClass:"items"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("h3",{staticClass:"items__title time"},[e._v(" "+e._s(e.time)),e.userName?n("span",[e._v(", "+e._s(e.userName))]):e._e()])])]),e._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12"},[n("NewRelease")],1)])])]),n("section",{staticClass:"items"},[n("div",{staticClass:"container-fluid"},[e._m(1),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("Recommends")],1)])])]),e.modal?n("Modal",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:e.modal,expression:"modal"}]},[n("div",{staticClass:"modal__dialog"},[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__img"},[n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("g",[n("g",[n("g",[n("g",[n("g",[n("g",[n("g",[n("g",[n("g",[n("path",{attrs:{d:"m512 256c0-141.385-114.615-256-256-256s-256 114.615-256 256c0 86.707 43.115 163.335 109.067 209.644h293.866c65.952-46.309 109.067-122.937 109.067-209.644z",fill:"#ffce00"}})])])])])])])])]),n("path",{attrs:{d:"m512 256c0-3.383-.066-6.751-.196-10.103l-83.239-83.239-5.001 7.911-88.699-88.699-8.446 36.513-36.513-36.513-9.073 35.886-35.886-35.886-9.685 36.112-32.573-32.572-11.422 131.341-107.833 26.052 222.841 222.841h96.662c65.951-46.309 109.063-122.938 109.063-209.644z",fill:"#ffa300"}}),n("g",[n("path",{attrs:{d:"m189.539 159.726c-8.284 0-15-6.716-15-15v-52.099c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15v52.099c0 8.285-6.716 15-15 15z",fill:"#06bf51"}})]),n("g",[n("path",{attrs:{d:"m234.498 159.726c-8.284 0-15-6.716-15-15v-52.099c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15v52.099c0 8.285-6.716 15-15 15z",fill:"#06bf51"}})]),n("g",[n("path",{attrs:{d:"m279.457 159.726c-8.284 0-15-6.716-15-15v-52.099c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15v52.099c0 8.285-6.716 15-15 15z",fill:"#0d9b50"}})]),n("g",[n("path",{attrs:{d:"m324.416 159.726c-8.284 0-15-6.716-15-15v-52.099c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15v52.099c0 8.285-6.716 15-15 15z",fill:"#0d9b50"}})]),n("g",[n("path",{attrs:{d:"m299.004 326.206h-86.009v54.733l-77.123 20.372c-15.606 4.122-26.478 18.239-26.478 34.381v30.198c41.526 29.06 92.075 46.11 146.606 46.11s105.08-17.05 146.606-46.11v-30.198c0-16.142-10.872-30.259-26.478-34.381l-77.123-20.372v-54.733z",fill:"#06bf51"}})]),n("g",[n("path",{attrs:{d:"m402.606 435.692c0-16.142-10.872-30.259-26.479-34.381l-77.123-20.372v-54.733h-42.884v185.793c54.485-.025 104.99-17.07 146.485-46.109v-30.198z",fill:"#0d9b50"}})]),n("g",[n("g",[n("path",{attrs:{d:"m83.434 242.803 107.512-17.593v-44.959l-107.512-17.592z",fill:"#06bf51"}})]),n("g",[n("path",{attrs:{d:"m428.566 242.803-107.512-17.593v-44.959l107.512-17.592z",fill:"#0d9b50"}})])]),n("g",[n("path",{attrs:{d:"m256 375.726c-50.2 0-90.896-40.695-90.896-90.896v-157.357h181.792v157.357c0 50.201-40.696 90.896-90.896 90.896z",fill:"#00d65b"}})]),n("g",[n("path",{attrs:{d:"m256.121 127.473v248.251c50.145-.065 90.775-40.734 90.775-90.894v-157.357z",fill:"#06bf51"}})]),n("g",[n("g",[n("g",[n("circle",{attrs:{cx:"170.968",cy:"208.595",fill:"#fff",r:"37.14"}})]),n("g",[n("circle",{attrs:{cx:"170.968",cy:"208.595",fill:"#555a66",r:"16.841"}})])]),n("g",[n("g",[n("circle",{attrs:{cx:"341.031",cy:"208.595",fill:"#e9edf5",r:"37.14"}})]),n("g",[n("circle",{attrs:{cx:"341.031",cy:"208.595",fill:"#333940",r:"16.841"}})])])]),n("g",[n("g",[n("circle",{attrs:{cx:"256",cy:"208.595",fill:"#fff",r:"37.14"}})]),n("g",[n("path",{attrs:{d:"m293.14 208.595c0-20.471-16.563-37.072-37.02-37.137v74.274c20.457-.065 37.02-16.665 37.02-37.137z",fill:"#e9edf5"}})]),n("g",[n("circle",{attrs:{cx:"256",cy:"208.595",fill:"#555a66",r:"16.841"}})]),n("g",[n("path",{attrs:{d:"m272.841 208.595c0-9.26-7.475-16.769-16.72-16.834v33.669c9.244-.066 16.72-7.575 16.72-16.835z",fill:"#333940"}})])]),n("g",[n("g",[n("path",{attrs:{d:"m233.52 334.378c-8.284 0-15-6.716-15-15v-30c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15v30c0 8.284-6.715 15-15 15z",fill:"#06bf51"}})]),n("g",[n("path",{attrs:{d:"m278.48 334.378c-8.284 0-15-6.716-15-15v-30c0-8.284 6.716-15 15-15 8.284 0 15 6.716 15 15v30c0 8.284-6.716 15-15 15z",fill:"#0d9b50"}})])])])])])]),n("div",{staticClass:"modal__text"},[n("p",[e._v(" Спасибо за регистрацию! "),n("br"),e._v(" Теперь рекомендации будут подбирать вам интересное и увелекательное кино. "),n("br"),n("span",{staticClass:"modal__advice"},[e._v(" Совет: Для точного подбора рекомендаций, найдите ваши любимое кино в "),n("router-link",{attrs:{to:"/search"}},[e._v("поиске")])],1)])]),n("div",{staticClass:"modal__button"},[n("button",{on:{click:function(t){return t.preventDefault(),e.modalClose(t)}}},[e._v(" Понятно ")])])])]):e._e()],1)},V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("h3",{staticClass:"items__title"},[e._v(" Новые релизы ")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("h3",{staticClass:"items__title"},[e._v(" Специально для вас ")])])])}],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"release"},[e.loading?n("Loader"):n("hooper",{attrs:{settings:e.hooperSettings}},e._l(e.newRelease.films,(function(e){return n("slide",{key:e.filmId},[n("FilmItemInfo",{staticClass:"film",attrs:{"item-info":e}})],1)})),1)],1)},W=[],Q=n("7e04"),Z=(n("955f"),{name:"NewRelease",data:function(){return{newRelease:{},loading:!0,hooperSettings:{itemsToShow:3.1,breakpoints:{1303:{itemsToShow:3.1},993:{itemsToShow:2.1},576:{itemsToShow:2.1},0:{itemsToShow:1.1}}}}},components:{FilmItemInfo:$["a"],Hooper:Q["a"],Slide:Q["b"]},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNewRelease();case 2:e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},methods:{getNewRelease:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Date,t.next=3,e.currentYear(n);case 3:return r=t.sent,a={rating:{from:"0",to:"10"},year:{from:r,to:r},page:y([3,4,1,2,5])},t.prev=5,t.next=8,e.$store.dispatch("getNewRelease",a);case 8:e.newRelease=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})))()},currentYear:function(e){var t={year:"numeric"};return new Intl.DateTimeFormat("en-EN",t).format(e)}}}),ee=Z,te=(n("0501"),Object(h["a"])(ee,J,W,!1,null,null,null)),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"intro"},[e.loading?n("Loader"):n("div",{staticClass:"intro__image",style:{backgroundImage:"url("+e.introFilm.images.backdrops[0].url+")"}},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"intro__descr"},[n("div",{staticClass:"row justify-content-between align-items-center"},[n("div",{staticClass:"col-lg-6  d-flex flex-column"},[n("div",{staticClass:"intro__wrap bg-c"},[n("h2",{staticClass:"intro__title"},[e._v(" "+e._s(e.introFilm.data.nameRu)+" ")]),n("p",{staticClass:"intro__text"},[e._v(" "+e._s(e.introFilm.data.description)+" ")]),n("ul",{staticClass:"intro__descr-item"},[n("li",[e._v(" Страна: "),n("span",[e._v(" "+e._s(e.introFilm.data.countries)+" ")])]),n("li",[e._v(" Год: "),n("span",[e._v(e._s(e.introFilm.data.year)+" ")])]),n("li",[e._v(" Жанр: "),n("span",[e._v(" "+e._s(e.introFilm.data.genres)+" ")])]),n("li",[e._v(" КиноПоиск: "),n("span",[e._v(e._s(e.introFilm.rating.rating))])])])])])])])])])]),n("button",{staticClass:"btn btn--intro",on:{click:function(t){return e.$router.push("/film/"+e.introFilm.data.filmId)}}})],1)},ae=[],ie=n("6339"),se=n("68fc"),ce={name:"Intro",data:function(){return{introFilm:null,loading:!0}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getIntroFilm();case 2:e.filterGenres(),e.filterCountries(),e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},methods:{getIntroFilm:function(){this.introFilm=this.$store.state.intro.introFilm},filterGenres:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.introFilm.data.genres;case 2:n=t.sent,e.introFilm.data.genres=Object(se["a"])(n);case 4:case"end":return t.stop()}}),t)})))()},filterCountries:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.introFilm.data.countries;case 2:n=t.sent,e.introFilm.data.countries=Object(ie["a"])(n);case 4:case"end":return t.stop()}}),t)})))()}}},oe=ce,ue=(n("c271"),Object(h["a"])(oe,re,ae,!1,null,null,null)),le=ue.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"recommends"},[e.loading?r("Loader"):e.userInfo?r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12 d-flex justify-content-center"},[r("div",{staticClass:"recommends__no"},[r("div",{staticClass:"recommends__text"},[r("p",[e._v("Авторизуйтесь чтобы наслаждаться рекомендациями")])]),r("div",{staticClass:"recommends__animation"},[r("ul",{staticClass:"recommends__film row"},e._l(e.newRelease,(function(e){return r("FilmItemInfo",{key:e.filmId,staticClass:"recommends__film-item col-6",attrs:{"item-info":e}})})),1)]),r("router-link",{staticClass:"recommends__btn",attrs:{to:"/login",tag:"button"}},[e._v(" Войти ")])],1)])]):e.recommendsInfoLength?r("div",{staticClass:"row"},[r("div",{staticClass:"col d-flex justify-content-center"},[r("div",{staticClass:"recommends__no"},[r("div",{staticClass:"recommends__no-img"},[r("img",{attrs:{src:n("ccad"),alt:"Alien"}})]),r("div",{staticClass:"recommends__text"},[r("p",[e._v("Нам пока нечего вам рекомендовать")])]),r("Search")],1)])]):r("div",{staticClass:"recommends__item"},[r("div",{staticClass:"row"},e._l(e.recommends.films,(function(e){return r("FilmItemInfo",{key:e.filmId,staticClass:"col-xl-4 col-md-6",attrs:{"item-info":e}})})),1),"/"!==e.$route.fullPath?r("div",{staticClass:"col-12"},[e.lazyLoading?r("Loader"):e._e(),e.page<=e.recommends.pagesCount?r("button",{ref:"filmItem",staticClass:"lazyload",on:{click:function(t){return t.preventDefault(),e.loadMore(t)}}},[e._v(" Загрузить больше ")]):e._e()],1):e._e()]),"/"!==e.$route.fullPath?r("span",{ref:"more",staticClass:"more"}):e._e()],1)},me=[],de=(n("4de4"),n("4160"),n("caad"),n("fb6a"),n("4fad"),n("2532"),n("159b"),n("7355")),he={name:"Recommends",components:{FilmItemInfo:$["a"],Search:de["a"]},data:function(){return{recommends:null,recommendsInfo:{},genresArr:[],countriesArr:[],yearArr:[],page:1,loading:!0,lazyLoading:!1}},computed:{userInfo:function(){return!Object.keys(this.$store.getters.info).length},recommendsInfoLength:function(){return!Object.keys(this.recommendsInfo).length}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Object.keys(e.$store.getters.info).length){t.next=11;break}return t.next=3,e.$store.dispatch("fetchRecomend");case 3:if(e.recommendsInfo=t.sent,!Object.keys(e.recommendsInfo).length){t.next=9;break}return t.next=7,e.sortRecommends();case 7:return t.next=9,e.getRecommendsFilms();case 9:t.next=13;break;case 11:return t.next=13,e.getNewReleaseFilm();case 13:e.loading=!1;case 14:case"end":return t.stop()}}),t)})))()},mounted:function(){this.userInfo||this.lazyLoad()},methods:{sortRecommends:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.genresSort(),e.countriesSort(),e.yearSort();case 3:case"end":return t.stop()}}),t)})))()},genresSort:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object.entries(e.recommendsInfo.genres),n.forEach((function(t){var n=Object.keys(t[1]).length,r=t[0];e.genresArr.push({genreId:r,genreLength:n})})),t.next=4,e.genresArr.sort((function(e,t){return e.genreLength>t.genreLength?-1:1}));case 4:r=e.genresArr.slice(0,3),e.genresArr=r;case 6:case"end":return t.stop()}}),t)})))()},countriesSort:function(){var e=this,t=Object.entries(this.recommendsInfo.countries);t.forEach((function(t){var n=Object.keys(t[1]).length,r=t[0];e.countriesArr.push({countryId:r,countryLength:n})})),this.countriesArr.sort((function(e,t){return e.countryLength>t.countryLength?-1:1}));var n=this.countriesArr.slice(0,3);this.countriesArr=n},yearSort:function(){var e=this,t=Object.entries(this.recommendsInfo.year);t.forEach((function(t){var n=Object.keys(t[1]).length;t=t[0],e.yearArr.push({year:t,yearLength:n})})),this.yearArr.sort((function(e,t){return e.yearLength>t.yearLength?-1:1}));var n=this.yearArr.slice(0,3);this.yearArr=n},getRecommendsFilms:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={country:y(e.countriesArr).countryId,genre:y(e.genresArr).genreId,minYear:y(e.yearArr).year,page:e.page},t.next=3,e.$store.dispatch("getRecommendFilm",n);case 3:e.recommends=t.sent;case 4:case"end":return t.stop()}}),t)})))()},filterReccomends:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchLikeFilm");case 2:return n=e.sent,e.next=5,t.recommends.films.filter((function(e){return n.includes(e.filmId)}));case 5:case"end":return e.stop()}}),e)})))()},loadMore:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.lazyLoading=!0,t.next=3,e.getMoreRecommends();case 3:e.lazyLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},getMoreRecommends:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.page++,n={country:y(e.countriesArr).countryId,genre:y(e.genresArr).genreId,minYear:y(e.yearArr).year,page:e.page},t.prev=2,t.next=5,e.$store.dispatch("getRecommendFilm",n);case 5:r=t.sent,r.films.forEach((function(t){e.recommends.films.push(t)})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},lazyLoad:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={root:null,threshold:0},r=new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(!e.loading&&e.page<=e.recommends.pagesCount-1&&!e.lazyLoading&&e.loadMore(),n.unobserve())}))}),n),a=e.$refs.more,r.observe(a);case 4:case"end":return t.stop()}}),t)})))()},getNewReleaseFilm:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={rating:{from:"6",to:"10"},year:{from:"2019",to:"2020"},page:["1","2","3","4","5"]},t.prev=1,t.next=4,e.$store.dispatch("getReleasesArr",n);case 4:e.newRelease=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}}},pe=he,ve=(n("54c1"),Object(h["a"])(pe,fe,me,!1,null,null,null)),ge=ve.exports,be=n("c592"),ke={name:"Home",data:function(){return{}},components:{NewRelease:ne,Intro:le,Modal:be["a"],Recommends:ge},computed:{modal:function(){return this.$route.query.user},time:function(){var e=(new Date).getHours();return e>=0?"Доброй ночи":e>=6?"Доброй утро":e>=12?"Добрый день":"Доброго вечера"},userName:function(){return this.$store.getters.info.name}},methods:{modalClose:function(){this.$router.push("/")}}},we=ke,_e=(n("21bb"),Object(h["a"])(we,q,V,!1,null,null,null)),xe=_e.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.param,{tag:"component"})},Re=[],Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"infofilm"},[e.loading?n("Loader"):n("div",[n("FilmBanner",{attrs:{"banner-info":e.infoFilm}}),n("div",{staticClass:"infofilm__content"},[n("div",{staticClass:"row"},[e.trailerFilm.trailers?n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"infofilm__trailer"},[n("youtube",{attrs:{"player-width":"100%","player-height":"450","video-id":e.videoId}})],1)]):e._e(),n("div",{staticClass:"col-lg-6"},[n("ul",{staticClass:"infofilm__attributes"},[n("li",[e._v(" Страна: "),n("span",[e._v(" "+e._s(e.filterCountries||"Нет информации")+" ")])]),n("li",[e._v(" Год: "),n("span",[e._v(e._s(e.infoFilm.data.year||"Нет информации"))])]),n("li",[e._v(" Премьера в мире: "),n("span",[e._v(e._s(e.infoFilm.data.premiereWorld||e.infoFilm.data.premiereRu||"Нет информации")+" ")]),e._v(" (год-месяц-день) ")]),n("li",[e._v(" Жанр: "),n("span",[e._v(" "+e._s(e.filterGenres||"Нет информации")+" ")])]),n("li",[e._v(" Слоган: "),n("span",[e._v(e._s(e.infoFilm.data.slogan||"Нет информации"))])]),n("li",[e._v(" Длина: "),n("span",[e._v(e._s(e.infoFilm.data.filmLength||"Нет информации"))])]),n("li",[e._v(" Возрастное ограничение: "),n("span",[e._v(e._s(e.infoFilm.data.ratingAgeLimits||"Нет информации"))])]),n("li",[e._v(" КиноПоиск: "),n("span",{class:e.rating},[e._v(e._s(e.infoFilm.rating.rating||"Нет информации"))])])])])]),n("div",{staticClass:"infofilm__wrap"},[e.infoFilm.data.description?n("div",{staticClass:"infofilm__descr"},[n("div",{staticClass:"infofilm__heading"},[n("h2",[e._v("Описание")])]),n("p",[e._v(" "+e._s(e.infoFilm.data.description)+" ")])]):e._e(),n("div",{staticClass:"row infofilm__staff"},[n("div",{staticClass:"infofilm__heading"},[n("h2",[e._v("Команда")])]),e._l(e.staffFilm,(function(t){return n("div",{key:t.staffId,staticClass:"col-xl-2 col-lg-4 col-md-4"},[n("div",{staticClass:"infofilm__staff-item"},[n("div",{staticClass:"infofilm__staff-img"},[n("img",{staticClass:"img",attrs:{src:t.posterUrl,alt:""}})]),n("div",{staticClass:"infofilm__staff-title"},[n("h4",[e._v(e._s(t.nameRu||t.nameEn))])])])])})),n("div",{staticClass:"infofilm__staff-bg",style:{backgroundImage:"url("+e.infoFilm.data.posterUrl+")"}})],2)])])],1)],1)},Ce=[],Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"infofilm__banner banner",class:{playlist:!e.param}},[n("div",{staticClass:"banner__wrap"},[n("div",{staticClass:"banner__bg",style:{backgroundImage:"url("+e.bannerInfo.data.posterUrl+")"}})]),n("div",{staticClass:"banner__content"},[n("div",{staticClass:"banner__preview"},[n("img",{attrs:{src:e.bannerInfo.data.posterUrl,alt:""}})]),n("div",{staticClass:"banner__title"},[n("h3",[e._v(e._s(e.bannerInfo.data.nameRu))]),e.param?n("div",{key:e.counter,staticClass:"banner__buttoon-wrap"},[n("button",{class:{active:e.filmLike},on:{click:function(t){return t.preventDefault(),e.like(t)}}},[e.filmLike?n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M376,30c-27.783,0-53.255,8.804-75.707,26.168c-21.525,16.647-35.856,37.85-44.293,53.268\n              c-8.437-15.419-22.768-36.621-44.293-53.268C189.255,38.804,163.783,30,136,30C58.468,30,0,93.417,0,177.514\n              c0,90.854,72.943,153.015,183.369,247.118c18.752,15.981,40.007,34.095,62.099,53.414C248.38,480.596,252.12,482,256,482\n              s7.62-1.404,10.532-3.953c22.094-19.322,43.348-37.435,62.111-53.425C439.057,330.529,512,268.368,512,177.514\n              C512,93.417,453.532,30,376,30z"}})]):n("svg",{attrs:{viewBox:"0 -28 512.001 512"}},[n("path",{attrs:{fill:"currentColor",d:"m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"}})])]),n("button",{staticClass:"banner__button",class:{bookmark:e.filmBookmark},on:{click:function(t){return t.preventDefault(),e.bookmark(t)}}},[e.filmBookmark?n("svg",{attrs:{viewBox:"-58 0 404 404.54135"}},[n("path",{attrs:{fill:"currentColor",d:"m277.527344 0h-267.257813c-5.523437 0-10 4.476562-10 10v374.527344c-.011719 7.503906 4.183594 14.378906 10.855469 17.804687 6.675781 3.429688 14.707031 2.832031 20.796875-1.550781l111.976563-80.265625 111.976562 80.269531c6.097656 4.367188 14.121094 4.960938 20.792969 1.535156 6.667969-3.425781 10.863281-10.292968 10.863281-17.792968v-374.527344c0-5.523438-4.480469-10-10.003906-10zm0 0"}})]):n("svg",{attrs:{viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M416.667,0H95.333c-8.284,0-15,6.716-15,15v482c0,6.067,3.655,11.536,9.26,13.858c1.856,0.769,3.805,1.142,5.737,1.142\n              c3.904,0,7.74-1.523,10.61-4.394l150.063-150.061L406.06,507.606c4.29,4.29,10.742,5.573,16.347,3.252\n              c5.605-2.322,9.26-7.791,9.26-13.858V15C431.667,6.716,424.951,0,416.667,0z M256.002,321.332c-3.978,0-7.793,1.58-10.606,4.394\n              L110.333,460.787V30h291.333v430.785L266.609,325.726C263.796,322.912,259.981,321.332,256.002,321.332z"}})])])]):e._e()])])])},je=[],Oe=(n("7db0"),{name:"InfoBanner",props:{bannerInfo:{type:Object,required:!0}},data:function(){return{filmsLike:[],filmsBookmarks:[],filters:null,counter:0,fade:!1,scrollPrev:0}},computed:{filmLike:function(){if(this.filmsLike.length){var e=this.bannerInfo.data.filmId;return this.filmsLike.includes(String(e))}return!1},filmBookmark:function(){if(this.filmsBookmarks.length){var e=this.bannerInfo.data.filmId;return this.filmsBookmarks.includes(String(e))}return!1},param:function(){return!!this.$route.params.id}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("fetchLikeFilm");case 3:return e.filmsLike=t.sent,t.next=6,e.$store.dispatch("fetchBookmarkFilm");case 6:e.filmsBookmarks=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{like:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUid");case 2:if(t.sent){t.next=7;break}e.$router.push("/login"),e.$toast.error("Вы не авторизованны"),t.next=20;break;case 7:if(n=e.bannerInfo.data.filmId,r={title:e.bannerInfo.data.nameRu,filmId:n},a={genres:e.bannerInfo.data.genres,countries:e.bannerInfo.data.countries,year:e.bannerInfo.data.year,type:e.bannerInfo.data.type},e.filmsLike.includes(String(n))){t.next=14;break}try{e.filters=e.$store.state.filters.filters,e.genresRecommendSet(a),e.countriesRecommendSet(a),"FILM"===a.type?e.yearRecommendSetFilm(a):e.yearRecommendSetTvShow("2010"),e.typeRecommendSet(a),e.addedInLikes(r),e.counter++}catch(s){}t.next=20;break;case 14:return t.next=16,e.$store.dispatch("notLike",r);case 16:i=t.sent,e.filmsLike=e.filmsLike.filter((function(e){return!i.filmId})),e.counter++,e.$toast.error('"'.concat(i.title,'" удалён из понравившегося'));case 20:case"end":return t.stop()}}),t)})))()},bookmark:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUid");case 2:if(t.sent){t.next=7;break}e.$router.push("/login"),e.$toast.error("Вы не авторизованны"),t.next=19;break;case 7:if(n=e.bannerInfo.data.filmId,r={title:e.bannerInfo.data.nameRu,filmId:n},e.filmsBookmarks.includes(String(n))){t.next=13;break}try{e.addedInBookmark(r),e.counter++}catch(i){}t.next=19;break;case 13:return t.next=15,e.$store.dispatch("notBookmarks",r);case 15:a=t.sent,e.filmsBookmarks=e.filmsBookmarks.filter((function(e){return!a.filmId})),e.counter++,e.$toast.error('"'.concat(a.title,'" удалён из закладок'));case 19:case"end":return t.stop()}}),t)})))()},genresRecommendSet:function(e){var t=this;e.genres.forEach((function(e){var n=e.genre,r=t.filters.genres.find((function(e){return e.genre===n}));t.$store.dispatch("addedRecommendGenres",r.id)}))},countriesRecommendSet:function(e){var t=this;e.countries.forEach((function(e){var n=e.country,r=t.filters.countries.find((function(e){return e.country===n}));t.$store.dispatch("addedRecommendCountries",r.id)}))},yearRecommendSetFilm:function(e){this.$store.dispatch("addedRecommendYear",e.year)},yearRecommendSetTvShow:function(e){this.$store.dispatch("addedRecommendYear",e)},typeRecommendSet:function(e){this.$store.dispatch("addedRecommendType",e.type)},addedInLikes:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("like",e);case 2:r=n.sent,t.filmsLike.push(String(r.filmId)),t.$toast.success('"'.concat(r.title,'" добавлен в понравившиеся'));case 5:case"end":return n.stop()}}),n)})))()},addedInBookmark:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("bookmarks",e);case 2:r=n.sent,t.filmsBookmarks.push(String(r.filmId)),t.$toast.success('"'.concat(r.title,'" добавлен в закладки'));case 5:case"end":return n.stop()}}),n)})))()}}}),$e=Oe,Ee=(n("21a6"),Object(h["a"])($e,Fe,je,!1,null,null,null)),Se=Ee.exports,Le={name:"InfoFilm",data:function(){return{infoFilm:{},trailerFilm:{},staffFilm:[],videoId:"videoId",loading:!0,fade:!1,scrollPrev:0}},components:{FilmBanner:Se},computed:{rating:function(){return this.infoFilm.rating.rating>=6.5?"green":this.infoFilm.rating.rating>=4.1?"yellow":"red"},filterGenres:function(){var e=this.infoFilm.data.genres;return Object(se["a"])(e)},filterCountries:function(){var e=this.infoFilm.data.countries;return Object(ie["a"])(e)}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfoFilm();case 2:e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},methods:{getInfoFilm:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,e.getBasicInfo(n);case 3:e.getTrailer(n),e.getStaff(n);case 5:case"end":return t.stop()}}),t)})))()},getBasicInfo:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("getInfoFilm",e);case 3:t.infoFilm=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},filterStaff:function(e){var t=this;e.forEach((function(e){"ACTOR"===e.professionKey&&t.staffFilm.length<8&&t.staffFilm.push(e)}))},getTrailer:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("getTrailerFilm",e);case 3:t.trailerFilm=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:t.trailerFilm.trailers&&(t.videoId=t.$youtube.getIdFromURL(t.trailerFilm.trailers[0].url));case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()},getStaff:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("getStaffFilm",e);case 3:r=n.sent,t.filterStaff(r),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},Ae=Le,Me=(n("9ef8"),Object(h["a"])(Ae,Ie,Ce,!1,null,null,null)),Te=Me.exports,Be={name:"Details",components:{InfoFilm:Te},computed:{param:function(){return this.$route.params.id?"infoFilm":this.$route.params.colId?"infoCollection":"infoPlaylist"}}},ze=Be,Pe=Object(h["a"])(ze,ye,Re,!1,null,null,null),Ne=Pe.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"yourecommends"},[n("div",{staticClass:"container-fluid"},[n("Recommends")],1)])},Ye=[],Ge={name:"RecommendsForYou",data:function(){return{}},components:{Recommends:ge}},De=Ge,He=(n("d994"),Object(h["a"])(De,Ue,Ye,!1,null,null,null)),Ke=He.exports,Xe=n("59ca"),qe=n.n(Xe);r["default"].use(X["a"]);var Ve=[{path:"/",name:"Home",meta:{layout:"main",title:"Главная"},component:xe},{path:"/new-release",name:"NewRelease",meta:{layout:"main",title:"Новые релизы"},component:function(){return n.e("chunk-60e86b90").then(n.bind(null,"4d9e"))}},{path:"/film/:id",name:"InfoFilm",meta:{layout:"main",title:"Информация о кино"},component:Ne},{path:"/login",name:"Login",meta:{layout:"empty",title:"Войти"},component:function(){return n.e("chunk-a65fc798").then(n.bind(null,"a55b"))}},{path:"/registered",name:"Registered",meta:{layout:"empty",title:"Зарегистрироваться"},component:function(){return n.e("chunk-308beb96").then(n.bind(null,"95f5"))}},{path:"/foryou",name:"RecommendsForYou",meta:{layout:"main",title:"Рекоммендации для вас"},component:Ke},{path:"/search",name:"Search",meta:{layout:"main",title:"Поиск"},component:function(){return n.e("chunk-0f08bf4c").then(n.bind(null,"49a8"))}},{path:"/yourMovie",name:"Your Movie",meta:{layout:"main",title:"Ваше любимое кино",auth:!0},component:function(){return n.e("chunk-20a7c96e").then(n.bind(null,"e126"))}},{path:"/yourBookmarks",name:"Your Bookmark",meta:{layout:"main",title:"Ваши закладки",auth:!0},component:function(){return n.e("chunk-57fd8b77").then(n.bind(null,"7125"))}},{path:"/profile",name:"Profile",meta:{layout:"main",title:"Профиль",auth:!0},component:function(){return n.e("chunk-a7a7f056").then(n.bind(null,"8f06"))}},{path:"*",name:"404",meta:{layout:"main",title:"Страница не найдена"},component:function(){return n.e("chunk-e125920a").then(n.bind(null,"efd7"))}}],Je=new X["a"]({mode:"history",base:"/",routes:Ve,scrollBehavior:function(e,t,n){return{x:0,y:0}}});Je.beforeEach((function(e,t,n){var r=qe.a.auth().currentUser,a=e.matched.some((function(e){return e.meta.auth}));a&&!r?n("/login"):n()}));var We=Je,Qe={state:{themeArr:[{id:"white",name:"Ледниковый период"},{id:"blue",name:"Соник X"},{id:"dark",name:"Люди в чёрном"}],currentTheme:localStorage.theme||"dark"},actions:{setTheme:function(e,t){e.dispatch;var n=e.state,r=t.id;t.name;localStorage.theme=r,n.currentTheme=r}},getters:{getCurrentTheme:function(e){e.currentTheme=localStorage.theme}}},Ze=(n("99af"),n("bc3a")),et=n.n(Ze),tt={actions:{getReleasesArrIntro:function(e,t){e.commit;var n="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?order=RATING&ratingFrom=".concat(t.rating.from,"&ratingTo=").concat(t.rating.to,"&yearFrom=").concat(t.year.from,"&yearTo=").concat(t.year.to,"&page=").concat(y(t.page));return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data.films})).catch((function(e){return console.log(e),e}))},getReleasesArr:function(e,t){e.commit;var n="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?order=YEAR&ratingFrom=".concat(t.rating.from,"&ratingTo=").concat(t.rating.to,"&yearFrom=").concat(t.year.from,"&yearTo=").concat(t.year.to,"&page=").concat(y(t.page));return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data.films})).catch((function(e){return console.log(e),e}))},getInfoFilm:function(e,t){e.dispatch;var n=e.commit,r="https://kinopoiskapiunofficial.tech/api/v2.1/films/".concat(t,"?append_to_response=RATING&append_to_response=POSTERS&append_to_response=REVIEW");return et()(r,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){throw n("setError",e),e}))},getTrailerFilm:function(e,t){e.dispatch;var n="https://kinopoiskapiunofficial.tech/api/v2.1/films/".concat(t,"/videos");return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getReviewsFilm:function(e,t){e.dispatch;var n="https://kinopoiskapiunofficial.tech/api/v1/reviews?filmId=".concat(t,"&page=1");return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getStaffFilm:function(e,t){e.dispatch;var n="https://kinopoiskapiunofficial.tech/api/v1/staff?filmId=".concat(t);return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getCollections:function(e,t){e.dispatch;var n="https://kinopoiskapiunofficial.tech/api/v1/collections/films?listType=BEST_FILMS_LIST&listId=1";return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getNewRelease:function(e,t){e.dispatch;var n="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?order=YEAR&ratingFrom=".concat(t.rating.from,"&ratingTo=").concat(t.rating.to,"&yearFrom=").concat(t.year.from,"&yearTo=").concat(t.year.to,"&page=").concat(t.page);return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getCollection:function(e,t){e.dispatch;var n="https://kinopoiskapiunofficial.tech/api/v2.1/films/top?listId=".concat(t);return et()(n,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getFiltersJSON:function(e){e.dispatch;var t="https://kinopoiskapiunofficial.tech/api/v2.1/films/filters";return et()(t,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))},getRecommendFilm:function(e,t){e.dispatch;var n=e.commit,r=t.genre,a=t.country,i=t.page,s="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-filters?country=".concat(a,"&genre=").concat(r,"&order=").concat(y(["RATING","YEAR","NUM_VOTE"]),"&ratingTo=10&yearFrom=&yearTo=2020&page=").concat(i);return et()(s,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){throw n("setError",e),e}))},searchFilms:function(e,t){e.dispatch;var n=e.commit,r="https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=".concat(t,"&page=1");return et()(r,{method:"GET",headers:{"X-API-KEY":"0c5711e4-5890-4625-863f-08e2cffe91a3"}}).then((function(e){return e.data})).catch((function(e){throw n("setError",e),e}))}}},nt={actions:{setIntroFilm:function(e,t){var n=e.commit;n("setIntroFilm",t)}},mutations:{setIntroFilm:function(e,t){e.introFilm=t}},getters:{introFilm:function(e){return e.introFilm}}},rt={actions:{login:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch,r=e.commit,a=t.email,i=t.password,n.prev=2,n.next=5,qe.a.auth().signInWithEmailAndPassword(a,i);case 5:n.next=11;break;case 7:throw n.prev=7,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()},registr:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.commit,i=t.email,s=t.password,c=t.userName,n.prev=2,n.next=5,qe.a.auth().createUserWithEmailAndPassword(i,s);case 5:return n.next=7,r("getUid");case 7:return o=n.sent,n.next=10,qe.a.database().ref("/users/".concat(o,"/info")).set({name:c,settings:{notifications:!0,inTheBeginning:!0}});case 10:n.next=16;break;case 12:throw n.prev=12,n.t0=n["catch"](2),a("setError",n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},getUid:function(){var e=qe.a.auth().currentUser;return e?e.uid:null},logout:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("clearError"),n("clearInfo"),t.next=5,qe.a.auth().signOut();case 5:case"end":return t.stop()}}),t)})))()}}},at={state:{info:{}},mutations:{setInfo:function(e,t){e.info=t},clearInfo:function(e){e.info={}}},actions:{fetchInfo:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.commit,t.prev=1,t.next=4,n("getUid");case 4:return a=t.sent,t.next=7,qe.a.database().ref("/users/".concat(a,"/info")).once("value");case 7:i=t.sent.val(),r("setInfo",i),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:case"end":return t.stop()}}),t,null,[[1,11]])})))()},uppdateInfo:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.commit,i=e.getters,n.prev=1,n.next=4,r("getUid");case 4:return c=n.sent,o=Object(s["a"])(Object(s["a"])({},i.info),t),n.next=8,qe.a.database().ref("/users/".concat(c,"/info")).update(o);case 8:a("setInfo",o),n.next=15;break;case 11:throw n.prev=11,n.t0=n["catch"](1),a("setError",n.t0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()}},getters:{info:function(e){return e.info}}},it={actions:{like:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.title,s=t.filmId,n.prev=2,n.next=5,a("getUid");case 5:return c=n.sent,n.next=8,qe.a.database().ref("/users/".concat(c,"/films/like/").concat(s)).push({title:i,filmId:s});case 8:return o=n.sent,n.abrupt("return",{title:i,filmId:s,id:o.key});case 12:throw n.prev=12,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},notLike:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.title,s=t.filmId,n.prev=2,n.next=5,a("getUid");case 5:return c=n.sent,n.next=8,qe.a.database().ref("/users/".concat(c,"/films/like/").concat(s)).remove();case 8:return n.abrupt("return",{title:i,filmId:s});case 11:throw n.prev=11,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))()},fetchLikeFilm:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,r("getUid");case 4:return a=t.sent,t.next=7,qe.a.database().ref("/users/".concat(a,"/films/like/")).once("value");case 7:if(t.t0=t.sent.val(),t.t0){t.next=10;break}t.t0={};case 10:return i=t.t0,t.abrupt("return",Object.keys(i));case 14:throw t.prev=14,t.t1=t["catch"](1),n("setError",t.t1),t.t1;case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))()},bookmarks:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.title,s=t.filmId,n.prev=2,n.next=5,a("getUid");case 5:return c=n.sent,n.next=8,qe.a.database().ref("/users/".concat(c,"/films/bookmarks/").concat(s)).push({title:i,filmId:s});case 8:return o=n.sent,n.abrupt("return",{title:i,filmId:s,id:o.key});case 12:throw n.prev=12,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},notBookmarks:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.title,s=t.filmId,n.prev=2,n.next=5,a("getUid");case 5:return c=n.sent,n.next=8,qe.a.database().ref("/users/".concat(c,"/films/bookmarks/").concat(s)).remove();case 8:return n.abrupt("return",{title:i,filmId:s});case 11:throw n.prev=11,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))()},fetchBookmarkFilm:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,r("getUid");case 4:return a=t.sent,t.next=7,qe.a.database().ref("/users/".concat(a,"/films/bookmarks/")).once("value");case 7:if(t.t0=t.sent.val(),t.t0){t.next=10;break}t.t0={};case 10:return i=t.t0,t.abrupt("return",Object.keys(i));case 14:throw t.prev=14,t.t1=t["catch"](1),n("setError",t.t1),t.t1;case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))()}}},st={actions:{addedRecommendGenres:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.prev=1,n.next=4,a("getUid");case 4:return i=n.sent,n.next=7,qe.a.database().ref("/users/".concat(i,"/reccomend/genres/").concat(t)).push({payload:t});case 7:n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](1),r("setError",n.t0),n.t0;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},addedRecommendCountries:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.prev=1,n.next=4,a("getUid");case 4:return i=n.sent,n.next=7,qe.a.database().ref("/users/".concat(i,"/reccomend/countries/").concat(t)).push({payload:t});case 7:n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](1),r("setError",n.t0),n.t0;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},addedRecommendYear:function(e){var t=arguments;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.length>1&&void 0!==t[1]?t[1]:"2010",n.prev=2,n.next=5,a("getUid");case 5:return s=n.sent,n.next=8,qe.a.database().ref("/users/".concat(s,"/reccomend/year/").concat(i)).push({payload:i});case 8:n.next=14;break;case 10:throw n.prev=10,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},addedRecommendType:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.prev=1,n.next=4,a("getUid");case 4:return i=n.sent,n.next=7,qe.a.database().ref("/users/".concat(i,"/reccomend/type/").concat(t)).push({payload:t});case 7:n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](1),r("setError",n.t0),n.t0;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},deleteRecommend:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.genres,s=t.countries,c=t.year,n.prev=2,n.next=5,a("getUid");case 5:return o=n.sent,n.next=8,qe.a.database().ref("/users/".concat(o,"/reccomend/genres/").concat(i)).remove();case 8:return n.next=10,qe.a.database().ref("/users/".concat(o,"/reccomend/countries/").concat(s)).remove();case 10:return n.next=12,qe.a.database().ref("/users/".concat(o,"/reccomend/year/").concat(c)).remove();case 12:n.next=18;break;case 14:throw n.prev=14,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 18:case"end":return n.stop()}}),n,null,[[2,14]])})))()},fetchRecomend:function(e){return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.dispatch,a=e.getters,t.prev=1,!a.info){t.next=15;break}return t.next=5,r("getUid");case 5:return i=t.sent,t.next=8,qe.a.database().ref("/users/".concat(i,"/reccomend")).once("value");case 8:if(t.t0=t.sent.val(),t.t0){t.next=11;break}t.t0={};case 11:return s=t.t0,t.abrupt("return",s);case 15:return t.abrupt("return",{});case 16:t.next=22;break;case 18:throw t.prev=18,t.t1=t["catch"](1),n("setError",t.t1),t.t1;case 22:case"end":return t.stop()}}),t,null,[[1,18]])})))()}}},ct={actions:{setFilters:function(e,t){var n=e.commit;n("stateFilters",t)}},mutations:{stateFilters:function(e,t){e.filters=t}},getters:{filters:function(e){return e.filters}}},ot={actions:{playlistDaySet:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,i=t.namePlaylist,s=t.films,c=t.date,n.prev=2,n.next=5,a("getUid");case 5:return o=n.sent,s.forEach(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.filmId,e.next=3,qe.a.database().ref("/users/".concat(o,"/playlist/").concat(i,"/").concat(n)).push({filmId:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=9,qe.a.database().ref("/users/".concat(o,"/playlist/").concat(i,"/").concat(c)).push({date:c});case 9:return n.abrupt("return",!0);case 12:throw n.prev=12,n.t0=n["catch"](2),r("setError",n.t0),n.t0;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()},fetchPlaylistDay:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,n.prev=1,n.next=4,a("getUid");case 4:return i=n.sent,n.next=7,qe.a.database().ref("/users/".concat(i,"/playlist/").concat(t)).once("value");case 7:if(n.t0=n.sent.val(),n.t0){n.next=10;break}n.t0={};case 10:return s=n.t0,n.abrupt("return",s);case 14:throw n.prev=14,n.t1=n["catch"](1),r("setError",n.t1),n.t1;case 18:case"end":return n.stop()}}),n,null,[[1,14]])})))()}}},ut={state:{},actions:{uppdateSettings:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,a=e.commit,i=e.getters,n.prev=1,n.next=4,r("getUid");case 4:return c=n.sent,o=Object(s["a"])(Object(s["a"])({},i.info.settings),t),n.next=8,qe.a.database().ref("/users/".concat(c,"/info/settings")).update(o);case 8:n.next=14;break;case 10:throw n.prev=10,n.t0=n["catch"](1),a("setError",n.t0),n.t0;case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()}},mutations:{},getters:{}};r["default"].use(Y["a"]);var lt,ft=new Y["a"].Store({state:{error:null,app:{modalTheme:!1}},mutations:{setError:function(e,t){e.error=t},clearError:function(e){e.error=null}},getters:{error:function(e){return e.error}},actions:{},modules:{theme:Qe,getFilms:tt,intro:nt,auth:rt,info:at,filmAction:it,recommend:st,filters:ct,playlist:ot,settings:ut}}),mt=n("58ca"),dt=n("f40c"),ht=n("f6dd"),pt=n("1dce"),vt=n.n(pt),gt=n("b079"),bt=n.n(gt),kt=(n("ce8c"),n("ea7b"),n("66ce"),{install:function(e){e.prototype.$title=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"App",t="КиноМан";return"".concat(e," || ").concat(t)}}}),wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("svg",[n("circle",{attrs:{cx:"70",cy:"70",r:"70"}})])])},_t=[],xt={name:"Loader"},yt=xt,Rt=(n("bc71"),Object(h["a"])(yt,wt,_t,!1,null,null,null)),It=Rt.exports,Ct=n("9483");Object(Ct["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["default"].config.productionTip=!1,r["default"].directive("scroll",{inserted:function(e,t){var n=function n(r){t.value(r,e)&&window.removeEventListener("scroll load",n)};window.addEventListener("scroll",n)}}),r["default"].use(dt["a"]),r["default"].use(ht["a"]),r["default"].use(vt.a),r["default"].use(bt.a),r["default"].use(mt["a"]),r["default"].use(kt),r["default"].component("Loader",It),qe.a.initializeApp({apiKey:"AIzaSyC8DQK49dJ8Fqfj3oI06pYTjgXRDOsfKPg",authDomain:"kinoman-1cc31.firebaseapp.com",databaseURL:"https://kinoman-1cc31.firebaseio.com",projectId:"kinoman-1cc31",storageBucket:"kinoman-1cc31.appspot.com",messagingSenderId:"623697848998",appId:"1:623697848998:web:02f8a2bdd10fdf70296267",measurementId:"G-G7LXD0WSM1"}),qe.a.auth().onAuthStateChanged((function(){lt||(lt=new r["default"]({router:We,store:ft,render:function(e){return e(K)}}).$mount("#app"))}))},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},6064:function(e,t,n){},6339:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a15b"),n("d81d");function r(e){var t=e,n=t.map((function(e){return e.country})).join(", ");return n}},"68fc":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a15b"),n("d81d");function r(e){var t=e,n=t.map((function(e){return e.genre})).join(", ");return n}},"6d7e":function(e,t,n){e.exports=n.p+"src/assets/img/bookmark.82809fd4.svg"},7355:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recommends__no-input search "},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputSearch,expression:"inputSearch"}],attrs:{type:"text",role:"search",placeholder:"Найдите свои любимые фильмы"},domProps:{value:e.inputSearch},on:{keyup:e.searchFilms,input:function(t){t.target.composing||(e.inputSearch=t.target.value)}}}),n("div",{staticClass:"search__info"},e._l(e.search.films,(function(e){return n("FilmItemInfo",{key:e.filmId,staticStyle:{width:"100%"},attrs:{"item-info":e}})})),1)])},a=[],i=(n("ac1f"),n("841c"),n("96cf"),n("1da1")),s=n("42e1"),c={name:"Search",data:function(){return{inputSearch:"",search:{}}},components:{FilmItemInfo:s["a"]},methods:{searchFilms:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("searchFilms",e.inputSearch);case 2:e.search=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},o=c,u=(n("f4d5"),n("2877")),l=Object(u["a"])(o,r,a,!1,null,null,null);t["a"]=l.exports},"89d3":function(e,t,n){"use strict";var r=n("1776"),a=n.n(r);a.a},"8f4a":function(e,t,n){},"91cc":function(e,t,n){},"9a9a":function(e,t,n){},"9c0c":function(e,t,n){},"9ef8":function(e,t,n){"use strict";var r=n("8f4a"),a=n.n(r);a.a},a117:function(e,t,n){},a524:function(e,t,n){},a7b3:function(e,t,n){"use strict";var r=n("a524"),a=n.n(r);a.a},b162:function(e,t,n){},b444:function(e,t,n){"use strict";t["a"]={logout:"Вы вышли из системы","auth/user-not-found":"Пользователь с таким E-mail не найден","auth/wrong-password":"Неверный пароль","auth/email-already-in-use":"Пользователь с таким E-mail уже существует","auth/too-many-requests":"Слишком много неудачных попыток входа в систему. Пожалуйста, попробуйте позже"}},bb2e:function(e,t,n){"use strict";var r=n("a117"),a=n.n(r);a.a},bc71:function(e,t,n){"use strict";var r=n("f022"),a=n.n(r);a.a},bfd0:function(e,t,n){e.exports=n.p+"src/assets/img/home.9df23098.svg"},c271:function(e,t,n){"use strict";var r=n("05c8"),a=n.n(r);a.a},c592:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[e._t("default")],2)},a=[],i={name:"Modal",data:function(){return{}},methods:{}},s=i,c=(n("1f33"),n("2877")),o=Object(c["a"])(s,r,a,!1,null,null,null);t["a"]=o.exports},c6c5:function(e,t,n){e.exports=n.p+"src/assets/img/ball.618f9e4f.svg"},ccad:function(e,t,n){e.exports=n.p+"src/assets/img/spaceship.62ff773e.svg"},d774:function(e,t,n){"use strict";var r=n("6064"),a=n.n(r);a.a},d994:function(e,t,n){"use strict";var r=n("4cbb"),a=n.n(r);a.a},dcf0:function(e,t,n){},e5d1:function(e,t,n){},ea97:function(e,t,n){"use strict";var r=n("ec79"),a=n.n(r);a.a},ec79:function(e,t,n){},eef0:function(e,t,n){},f022:function(e,t,n){},f28f:function(e,t,n){"use strict";var r=n("9a9a"),a=n.n(r);a.a},f4d5:function(e,t,n){"use strict";var r=n("b162"),a=n.n(r);a.a}});
//# sourceMappingURL=app.867beffd.js.map